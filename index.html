<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>How Bright are the Bike Lanes?</title>
	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.0.4/scrollama.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>
	<link rel="stylesheet" href="style.css">
    <style>
			
        @import url('https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Zilla+Slab:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700&family=Edu+VIC+WA+NT+Beginner&family=Oswald:wght@200;300;400;500;600;700&display=swap');	</style>

  </head>

    <body>

        <div class="intro"> 
            <p class="big">Fear and Luminescence on a New York Bike Trail </p>
            <br/>
            <p class="subheader"><i>A documention of my experience riding the bicycle on the Hudson Greenway Trail at night</i></p> 
            <!-- <p class="byline">By Aisvarya Chandrasekar</p> -->
        </div>

        <div>
            <p class="intro-para">
                My commute to campus along the Hudson Waterfront Greenway has been my favorite part of my weekdays this summer. I bike through pockets of serenity - flower gardens in full bloom, tunnels, and bridges, tai-chi classes, tango lessons, preschoolers walking hand-in-hand, and dog walkers talking to other dog walkers. On the other hand, the ride home through the same path after a late evening in the city is an experience marked by caution and fear. Most of the paths are lit only by the ambient lights of the cityscape so I ride without headphones on so I can listen to my surroundings to compensate for my lack of visibility. The lack of lighting in some parts of this trail, paths I love biking through in the mornings, cause my heart beat faster at night. I documented my experience on the Hudson Greenway Trail one such night ride. 
            </p>
        </div>

	<!-- <h1>An ai2html template for scrollytelling with scrollama</h1> -->
        <section id="scrolly">
            <div class="sticky-thing">
                
                <div class= "ai2html-container">
                    
                    <!-- Generated by ai2html v0.111.0 - 2022-08-03 00:42 -->
                    <!-- ai file: map1.ai -->
                    <style media="screen,print">
                        #g-map1-box ,
                        #g-map1-box .g-artboard {
                            margin:0 auto;
                        }
                        #g-map1-box p {
                            margin:0;
                        }
                        #g-map1-box .g-aiAbs {
                            position:absolute;
                        }
                        #g-map1-box .g-aiImg {
                            position:absolute;
                            top:0;
                            display:block;
                            width:100% !important;
                        }
                        #g-map1-box .g-aiSymbol {
                            position: absolute;
                            box-sizing: border-box;
                        }
                        #g-map1-box .g-aiPointText p { white-space: nowrap; }
                        #g-map1-Artboard_1 {
                            position:relative;
                            overflow:hidden;
                        }

                    </style>

                    <div id="g-map1-box" class="ai2html ai2html-responsive">

                        <!-- Artboard: Artboard_1 -->
                        <div id="g-map1-Artboard_1" class="g-artboard" style="max-width: 2832px;max-height: 2133px" data-aspect-ratio="1.328" data-min-width="0">
                    <div style="padding: 0 0 75.3281% 0;"></div>
                            <img id="g-map1-Artboard_1-img" class="g-map1-Artboard_1-img g-aiImg" alt="" src="ai2html-output\Map1@2x.png"/>
                    <!-- Generator: Adobe Illustrator 25.4.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                    <svg class="g-map1-Artboard_1-interactions-img g-aiImg" version="1.2" baseProfile="tiny" id="g-map1-Artboard_1-interactions-img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px" y="0px" viewBox="0 0 2832 2133.292" overflow="visible" xml:space="preserve">
                    <g>
                        
                    </g>
                    <style>
                    #g-map1-Artboard_1-interactions-img rect, #g-map1-Artboard_1-interactions-img circle, #g-map1-Artboard_1-interactions-img path, #g-map1-Artboard_1-interactions-img line, #g-map1-Artboard_1-interactions-img polyline, #g-map1-Artboard_1-interactions-img polygon { vector-effect: non-scaling-stroke; }
                    </style>
                    </svg>

                        </div>

                    </div>

                    <script type="text/javascript">
                        (function (containerId, opts) {
                                var nameSpace = opts.namespace || '';
                                var containers = findContainers(containerId);
                                containers.forEach(resize);

                                function resize(container) {
                                    var onResize = throttle(update, 200);
                                    var waiting = !!window.IntersectionObserver;
                                    var observer;
                                    update();

                                    document.addEventListener('DOMContentLoaded', update);
                                    window.addEventListener('resize', onResize);

                                    // NYT Scoop-specific code
                                    if (opts.setup) {
                                        opts.setup(container).on('cleanup', cleanup);
                                    }

                                    function cleanup() {
                                        document.removeEventListener('DOMContentLoaded', update);
                                        window.removeEventListener('resize', onResize);
                                        if (observer) observer.disconnect();
                                    }

                                    function update() {
                                        var artboards = selectChildren('.' + nameSpace + 'artboard[data-min-width]', container),
                                            width = Math.round(container.getBoundingClientRect().width);

                                        // Set artboard visibility based on container width
                                        artboards.forEach(function (el) {
                                            var minwidth = el.getAttribute('data-min-width'),
                                                maxwidth = el.getAttribute('data-max-width');
                                            if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {
                                                if (!waiting) {
                                                    selectChildren('.' + nameSpace + 'aiImg', el).forEach(updateImgSrc);
                                                }
                                                el.style.display = 'block';
                                            } else {
                                                el.style.display = 'none';
                                            }
                                        });

                                        // Initialize lazy loading on first call
                                        if (waiting && !observer) {
                                            if (elementInView(container)) {
                                                waiting = false;
                                                update();
                                            } else {
                                                observer = new IntersectionObserver(onIntersectionChange, {});
                                                observer.observe(container);
                                            }
                                        }
                                    }

                                    function onIntersectionChange(entries) {
                                        // There may be multiple entries relating to the same container
                                        // (captured at different times)
                                        var isIntersecting = entries.reduce(function (memo, entry) {
                                            return memo || entry.isIntersecting;
                                        }, false);
                                        if (isIntersecting) {
                                            waiting = false;
                                            // update: don't remove -- we need the observer to trigger an update
                                            // when a hidden map becomes visible after user interaction
                                            // (e.g. when an accordion menu or tab opens)
                                            // observer.disconnect();
                                            // observer = null;
                                            update();
                                        }
                                    }
                                }

                                function findContainers(id) {
                                    // support duplicate ids on the page
                                    return selectChildren('.ai2html-responsive', document).filter(function (el) {
                                        if (el.getAttribute('id') != id) return false;
                                        if (el.classList.contains('ai2html-resizer')) return false;
                                        el.classList.add('ai2html-resizer');
                                        return true;
                                    });
                                }

                                // Replace blank placeholder image with actual image
                                function updateImgSrc(img) {
                                    var src = img.getAttribute('data-src');
                                    if (src && img.getAttribute('src') != src) {
                                        img.setAttribute('src', src);
                                    }
                                }

                                function elementInView(el) {
                                    var bounds = el.getBoundingClientRect();
                                    return bounds.top < window.innerHeight && bounds.bottom > 0;
                                }

                                function selectChildren(selector, parent) {
                                    return parent ? Array.prototype.slice.call(parent.querySelectorAll(selector)) : [];
                                }

                                // based on underscore.js
                                function throttle(func, wait) {
                                    var timeout = null, previous = 0;
                                    function run() {
                                        previous = Date.now();
                                        timeout = null;
                                        func();
                                    }
                                    return function () {
                                        var remaining = wait - (Date.now() - previous);
                                        if (remaining <= 0 || remaining > wait) {
                                            clearTimeout(timeout);
                                            run();
                                        } else if (!timeout) {
                                            timeout = setTimeout(run, remaining);
                                        }
                                    };
                                }
                            })("g-map1-box", {namespace: "g-", setup: window.setupInteractive || window.getComponent});
                    </script>
                    <!-- End ai2html - 2022-08-03 00:42 -->

                </div>

            </div>

            <div class="scrolly-overlay">
                <div class="step" id="step-zero">
                    <h3>The Trail </h3>
                    <p>I ride along a section of the Hudson Greenway Trail that starts from Morningside Heights, by the university, down to Vesey St after which I divert from the trail and take the PATH back home. This ride averages 9-10 miles and takes me 45-50 minutes. The bike path hugs the Hudson and resides in the center of the Pier and the main roads. </p>
                    <p class="sub-text">The data for the path illustrated was collected via Strava and plotted on Mapbox. I rode the bike at 10:16pm, and it took me 46 minutes to complete the commute.</p>
                </div>

                <div class="step" id="step-one">
                    <h3>The Legend</h3>
                    <img class= "image" src = ".\2x\Asset 22@2x.png"/>
                    <p class="sub-text"><b>Method:</b>To create this map, I video-taped my night ride and used the brightness in different sections of the video to collect fuzzy luminance data. </p>
                    
                </div>

                <div class="step" id="step-two">
                    <h3>Sections of the Night Ride </h3>
                    <p>Riding 10 miles late in the evening can be daunting so I break up this trail into 9 digestible chunks. These chunks are divided by my distinct experiences navigating them. And my experiences through these chunks are directly related to how safe I feel riding through them</p>
                
                </div>

                <div class="step" id="step-three">
                    <h3>Riverside Park </h3>
                    <p>Riverside Park is the most difficult section. The trail is a mudpath surrounded by trees. There are lights near the main park but the bike trail is on an elevated plane, out of the light's reach.</p>
                    <img class = "image" src = ".\2x\Asset 28@2x.png">
                    <p>The turns are very sharp. Without ample light, this makes the route confusing and dangerous as it is hard to see the other bikers on the path. </p>
                
                </div>
                
                <div class="step" id="step-four">
                    <h3>Waterfront Bike Path</h3>
                    <p>This is an incredibly scenic path that is well lit, well paved, with bicyclists riding at all times of the day. In this path, I am able to enjoy everything night-riding has to offer without having to worry about crashing into someone or losing my way.</p>
                    <img class = "image" src = ".\2x\Asset 37@2x.png">
                    <p>The lighting in this path was an amenity that bicyclists having been asking the municipality <a href = "https://www.westsiderag.com/2013/04/14/on-riverside-park-bike-path-new-lights-and-late-night-tickets"> to set up for years</a> before it was completed in 2013. As a rider of that path, I am incredibly grateful for those who petitioned for it. </p>
                </div>

                <div class="step" id="step-five">
                    <h3>The Piers</h3>
                    <p>Based on my personal experience riding this trail, I would feel more confortable if parks were better staffed at night, with lights throughout the bike trails. And based on the progress that was made by the waterfront, I think it is time we draw up another petition </p>
                </div>

                <div class="step" id="step-five">
                    <p>Which paths are well lit - what is common about them? And how do i feel biking through these areas</p>
                </div>
                <!-- <div class="step" id="step-four">
                    <p>As the city continues to blah blah blah, people will continue to... Light has had and will be an ephemeral piece of the city landscape</p>
                </div> -->
            </div>
        </section>
        
        <script>
      
      
            /* Scrollytelling code goes under here */
              
      
            d3.select("#step-one").on('stepin', function(e){
                  console.log("got to step two")
                  d3.select(".ai2html-container img").attr("src", "ai2html-output/Map2@2x.png")                  
      
            d3.select("#step-two").on('stepin', function(e){
                console.log("got to step three") 
                d3.select(".ai2html-container img").attr("src", "ai2html-output/Asset 25@2x.png")
              
              
            d3.select("#step-three").on('stepin', function(e){
                console.log("got to step four")
                d3.select(".ai2html-container img").attr("src", "ai2html-output/Asset 33@2x.png")

            d3.select("#step-four").on('stepin', function(e){
                  console.log("got to step two")
                  d3.select(".ai2html-container img").attr("src", "ai2html-output/Asset 35@2x.png")

            d3.select("#step-five").on('stepin', function(e){
                  console.log("got to step two")
                  d3.select(".ai2html-container img").attr("src", "ai2html-output/Asset 38@2x.png")

            d3.select("#step-zero").on('stepin', function(e){
                  console.log("got to step two")
                  d3.select(".ai2html-container img").attr("src", "ai2html-output/Map1@2x.png")
                  
            d3.select("#step-zero").on('stepin', function(e){
                  console.log("got to step two")
                  d3.select(".ai2html-container img").attr("src", "ai2html-output/Map1@2x.png")
                })  
                })
                    })
                
                })
      
            })
      
        })
          
    })
      
        </script>

        <script>
            const scroller = scrollama();

            scroller
                .setup({
                    step: "#scrolly .scrolly-overlay .step",
                    offset: 0.9,
                    debug: false
                })
                .onStepEnter(function({ element, index, direction}) {
                    const event = new CustomEvent('stepin', { detail: { direction: direction } })
                    element.dispatchEvent(event);
                })
                .onStepExit(function({ element, index, direction }) {
                    const event = new CustomEvent('stepout', { detail: { direction: direction } })
                    element.dispatchEvent(event);
                });

            window.addEventListener("resize", scroller.resize);
        </script>

        <script type="text/javascript">
            (function() {
                // only want one resizer on the page
                if (document.documentElement.className.indexOf("g-resizer-v3-init") > -1) return;
                document.documentElement.className += " g-resizer-v3-init";
                // require IE9+
                if (!("querySelector" in document)) return;
                function resizer() {
                    var elements = Array.prototype.slice.call(document.querySelectorAll(".g-artboard[data-min-width]")),
                        widthById = {};
                    elements.forEach(function(el) {
                        var parent = el.parentNode,
                            width = widthById[parent.id] || parent.getBoundingClientRect().width,
                            minwidth = el.getAttribute("data-min-width"),
                            maxwidth = el.getAttribute("data-max-width");
                        widthById[parent.id] = width;

                        if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {
                            el.style.display = "block";
                        } else {
                            el.style.display = "none";
                        }
                    });
                    try {
                        if (window.parent && window.parent.$) {
                            window.parent.$("body").trigger("resizedcontent", [window]);
                        }
                        if (window.require) {
                            require(['foundation/main'], function() {
                                require(['shared/interactive/instances/app-communicator'], function(AppCommunicator) {
                                    AppCommunicator.triggerResize();
                                });
                            });
                        }
                    } catch(e) { console.log(e); }
                }

                document.addEventListener('DOMContentLoaded', resizer);
                // feel free to replace throttle with _.throttle, if available
                window.addEventListener('resize', throttle(resizer, 200));        

                function throttle(func, wait) {
                    // from underscore.js
                    var _now = Date.now || function() { return new Date().getTime(); },
                        context, args, result, timeout = null, previous = 0;
                    var later = function() {
                        previous = _now();
                        timeout = null;
                        result = func.apply(context, args);
                        if (!timeout) context = a
                        rgs = null;
                    };
                    return function() {
                        var now = _now(), remaining = wait - (now - previous);
                        context = this;
                        args = arguments;
                        if (remaining <= 0 || remaining > wait) {
                            if (timeout) {
                                clearTimeout(timeout);
                                timeout = null;
                            }
                            previous = now;
                            result = func.apply(context, args);
                            if (!timeout) context = args = null;
                        } else if (!timeout && options.trailing !== false) {
                            timeout = setTimeout(later, remaining);
                        }
                        return result;
                    };
                }
            })();
        </script>




    </body>
</html>
      
      
